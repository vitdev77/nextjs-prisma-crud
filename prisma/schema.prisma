generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model Brand {
  id        String   @id @default(uuid())
  name      String   @unique
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  isUpdated Boolean  @default(false)

  products Product[]

  @@map("brands")
}

model Series {
  id        String   @id @default(uuid())
  name      String   @unique
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  isUpdated Boolean  @default(false)

  products Product[]

  @@map("series")
}

model Product {
  id            String        @id @default(uuid())
  name          String        @unique
  seriesAttr    SeriesAttr    @default(NONE)
  color         ProductColor  @default(WHITE)
  displayPlaced DisplayPlaced @default(ON_DOOR)
  businessType  BusinessType  @default(OBM)
  brandId       String
  seriesId      String
  createdAt     DateTime      @default(now())
  updatedAt     DateTime      @updatedAt
  isUpdated     Boolean       @default(false)

  brand  Brand  @relation(fields: [brandId], references: [id], onDelete: Cascade)
  series Series @relation(fields: [seriesId], references: [id], onDelete: Cascade)

  @@map("products")
}

model Item {
  id            String        @id @default(uuid())
  name          String
  nameExt       String?
  attr          String?
  isMaterial    Boolean       @default(false)
  isAssembly    Boolean       @default(false)
  parts         String[]
  unitOfMeasure UnitOfMeasure @default(piece)
  greenLogo     GreenLogo     @default(RoHS)
  createdAt     DateTime      @default(now())
  updatedAt     DateTime      @updatedAt
  isUpdated     Boolean       @default(false)

  itemCodes ItemCode[]

  @@map("items")
}

model ItemCode {
  id        String   @id @default(uuid())
  code      String   @unique
  itemId    String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  isUpdated Boolean  @default(false)

  item Item @relation(fields: [itemId], references: [id])

  @@map("item_codes")
}

enum ProductColor {
  WHITE
  BLACK
  BEIGE
  BASALT_GRAY
  DARK_GRAY
  STEEL_GRAY
  INOX
  ENTRY_WHITE
  ENTRY_INOX
  PREMIUM_WHITE
  PREMIUM_INOX
}

enum DisplayPlaced {
  ON_DOOR
  INSIDE
}

enum BusinessType {
  OBM
  OEM
}

enum SeriesAttr {
  NONE
  CE_BCD345WE_ST
  CE_BCD345WE1_ST
  CE_BCD385WX1_JT
  CE_BCD385WX2_JT
  CE_BCD405WX_JQ
  CE_BCD445WX_JQ
  CE_BCD445WZ_JQ
  CE_BCD335WX_JQ
  CE_BCD375WX_JQ
}

enum PurchaseAttr {
  P
  SA
  FG
  MP
}

enum GreenLogo {
  none
  RoHS
  REACH
  TSCA
  REACH_RoHS
  RoHS_TSCA
}

enum UnitOfMeasure {
  piece
  kg
  meter
  bucket
  volume
}
